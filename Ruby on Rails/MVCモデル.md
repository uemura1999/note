# MVCモデル
- ブラウザは一般的にWebサーバーにrequest (リクエスト) を送信し、これはリクエストを処理する役割を担っているRailsのcontrollerに渡されます。コントローラは、場合によってはすぐにview  を生成してHTMLをブラウザに送り返します。動的なサイトでは、一般にコントローラは (ユーザーなどの) サイトの要素を表しており、データベースとの通信を担当しているRubyのオブジェクトであるmodel (モデル) と対話します。モデルを呼び出した後、コントローラは、ビューをレンダリングし、完成したWebページをHTMLとしてブラウザに返します

## routes.rbとController
#### リクエスト受付＆レスポンス返却
- routes.rbファイルでどのコントローラに含まれるアクションを実行すればいいのか判断する
## Model
#### db関連の処理を担当
- リクエストで呼び出されたアクションはモデルを介してデータベースとのやり取りを行い、データを取得したり新しいデータを格納します
## View
#### 画面表示(HTML)を担当
- 変数を介して渡されたデータを使ってHTML文書を作成しコントローラへ返す
# MVCモデルとは
#### 概要
  - アプリケーション設計の機能を整理するための概念
   - 機能毎に分割されているため，分業して作業を進めやすい
   - 独立しているため、変更や修正の影響を受けにくい
## それぞれの役割
### routeとController
#### 道筋を決める部分
 - Webサーバでリクエストを受け取る
 - どのコントローラのアクションを実行するのか判断する
### Model
#### データを扱う部分
 - データの取得や新規データの格納を行う
 - 使用するdbのテーブル毎にモデルが用意されている
### View
#### 表示や入出力などのUIを扱う部分
 - 渡されたデータを使ってHTMLを作成しコントローラに返す
 - ブラウザに表示するHTMLを動的に生成する
 - 動的なサイト(twitterのトレンドのようにリアルタイムで変動)
### Controller
#### ModelとViewの制御の部分を扱う
 - Modelにデータ処理の指示を出す
 - Viewに画面表示の指示を出す
## そもそもどうやって通信されている？
#### ブラウザ上で画面が表示されるまでの２つの流れ
 1. リクエスト
 - 任意のURLで指定のPCにアクセス
 2. レスポンス
 - リクエストを元にアクセス先のPCからブラウザ表示に必要なファイルを送り返す
## マクドナルドを例にしたMVCモデルの考え方
1. HTTPサーバにリクエスト
- マクドナルドに行きたいため自動ドア(HTTPサーバ)から入店する
2. ルータを経由してコントローラに移動する
- スタッフ(ルータ)にナゲットを食べたいと伝えるとレジへ案内
- ナゲットをレジ係(コントローラ)に注文する
3. コントローラがモデルに指示する
- 調理係(モデル)にナゲットを厨房(db)で作ってくるように伝える
4. 指定されたデータベースでモデルが作業する
- ナゲットを調理し、完成物をレジ係にもっていく
5. モデルからのレスポンスをビューからコントローラに渡す
- 調理係からもらったナゲットをレジ係が渡す
6. レスポンス
- ナゲットをもらったので家に帰って食べる
##### 参考資料
- https://diveintocode.jp/blogs/DIVEINTOCODE/railsBank
- https://system-kaihatu.com/archives/3204
- https://qiita.com/s_emoto/items/975cc38a3e0de462966a
- https://www.javadrive.jp/rails/ini/index7.html

# MVCモデルとは
- 概要
  - アプリケーション設計の機能を整理するための概念
    - 機能毎に分割されているため，分業して作業を進めやすい
    - 独立しているため、変更や修正の影響を受けにくい
## それぞれの役割
-  routeとController
  - 道筋を決める部分
    - Webサーバでリクエストを受け取る
    - どのコントローラのアクションを実行するのか判断する
-  Model
  - 業務知識（ビジネス・ロジック）を扱う
    - DBとの連携
      - データの作成、読み取り、更新、削除の操作が定義されている
      - Active Recordパターンによって、dbのテーブルに対応
        - Active Recordとは？
          - DBに恒久的に保存するビジネスオブジェクトの作成と利用を円滑に行なえるようにするもの
    - ビジネスロジック
      - appの中で発生する特定のビジネスルールや処理をモデルに記述
        - データの検証、変換、計算などが含まれる
        - データベースから取り出したユーザの情報（DBと絡むモデル）のうち、お金に関する部分を「お金」というデータモデル（DBと絡まないモデル）に変換し、為替や税金の計算を行う知識を閉じ込める場所
    - データのバリデーション
      - データの妥当性を検証するために、モデルでバリデーションルールを設定する
        - 必須フィールドの存在確認や特定の条件を満たすかどうかを確認する
        - ログインするときに、ユーザー名とパスワードが正しいかどうかを判定する
          - バリデーションルールとは？
            - 正しいデータだけをdbに保存するために
          - 必須フィールドとは？
            - データを保存する前に値が含まれている必要があるフィールド
##  View
- 表示や入出力などのUIを扱う部分
  - 渡されたデータを使ってHTMLを作成しコントローラに返す
  - ブラウザに表示するHTMLを動的に生成する
  - 動的なサイト(twitterのトレンドのようにリアルタイムで変動)
##  Controller
- ModelとViewの制御の部分を扱う
  - Modelにデータ処理の指示を出す
  - Viewに画面表示の指示を出す
##  そもそもどうやって通信されている？
- ブラウザ上で画面が表示されるまでの２つの流れ
  - リクエスト
    - 任意のURLで指定のPCにアクセス
  - レスポンス
    - リクエストを元にアクセス先のPCからブラウザ表示に必要なファイルを送り返す
##  マクドナルドを例にしたMVCモデルの考え方
- HTTPサーバにリクエスト
  - マクドナルドに行きたいため自動ドア(HTTPサーバ)から入店する
- ルータを経由してコントローラに移動する
  - スタッフ(ルータ)にナゲットを食べたいと伝えるとレジへ案内
  - ナゲットをレジ係(コントローラ)に注文する
- コントローラがモデルに指示する
  - レジ係(コントローラ)が料理長(モデル)にナゲットを注文する
- モデルは指示された領域のデータと必要な手続きを行う
  - 調理係１が冷蔵庫から必要な個数をキッチンに出す（DBとの連携）
  - 調理係２が取り出した油を一定の温度に保つ
  - 調理係３がキッチンにあるナゲットを揚げて盛り付ける
  - 調理長が正しく作られたか確認する（バリデーション）
- モデルからのレスポンスをビューからコントローラに渡す
  - 料理長からもらったナゲットをレジ係が渡す
- レスポンス
  - ナゲットをもらったので家に帰って食べる
##### 参考資料
  - https://diveintocode.jp/blogs/DIVEINTOCODE/railsBank
  - https://system-kaihatu.com/archives/3204
  - https://qiita.com/s_emoto/items/975cc38a3e0de462966a
  - https://www.javadrive.jp/rails/ini/index7.html
